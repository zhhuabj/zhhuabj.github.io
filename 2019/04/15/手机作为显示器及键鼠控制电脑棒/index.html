<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>手机作为显示器及键鼠控制电脑棒 | 技术并艺术着</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="版权声明：可以任意转载，转载时请务必以超链接形式标明文章原始出处和作者信息及本版权声明 (作者：张华 发表于：2019-04-14) 买了一款Intel compute stick core m3, 具有HDMI接口输出音频, 但如何使用手机临时地作为显示器及键盘鼠标控制它呢? 屏幕共享 - vnc &amp;amp; teamviewer &amp;amp; anydeskwindows上有一款叫spacede">
<meta property="og:type" content="article">
<meta property="og:title" content="手机作为显示器及键鼠控制电脑棒">
<meta property="og:url" content="http://yoursite.com/2019/04/15/手机作为显示器及键鼠控制电脑棒/index.html">
<meta property="og:site_name" content="技术并艺术着">
<meta property="og:description" content="版权声明：可以任意转载，转载时请务必以超链接形式标明文章原始出处和作者信息及本版权声明 (作者：张华 发表于：2019-04-14) 买了一款Intel compute stick core m3, 具有HDMI接口输出音频, 但如何使用手机临时地作为显示器及键盘鼠标控制它呢? 屏幕共享 - vnc &amp;amp; teamviewer &amp;amp; anydeskwindows上有一款叫spacede">
<meta property="og:updated_time" content="2019-04-15T00:56:23.192Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="手机作为显示器及键鼠控制电脑棒">
<meta name="twitter:description" content="版权声明：可以任意转载，转载时请务必以超链接形式标明文章原始出处和作者信息及本版权声明 (作者：张华 发表于：2019-04-14) 买了一款Intel compute stick core m3, 具有HDMI接口输出音频, 但如何使用手机临时地作为显示器及键盘鼠标控制它呢? 屏幕共享 - vnc &amp;amp; teamviewer &amp;amp; anydeskwindows上有一款叫spacede">
  
    <link rel="alternate" href="/atom.xml" title="技术并艺术着" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">技术并艺术着</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">张华的技术博客 - blog.csdn.net/quqi99</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Søk"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-手机作为显示器及键鼠控制电脑棒" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/15/手机作为显示器及键鼠控制电脑棒/" class="article-date">
  <time datetime="2019-04-15T00:56:05.000Z" itemprop="datePublished">2019-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      手机作为显示器及键鼠控制电脑棒
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>版权声明：可以任意转载，转载时请务必以超链接形式标明文章原始出处和作者信息及本版权声明 (作者：张华 发表于：2019-04-14)</strong></p>
<p>买了一款Intel compute stick core m3, 具有HDMI接口输出音频, 但如何使用手机临时地作为显示器及键盘鼠标控制它呢?</p>
<h2 id="屏幕共享-vnc-amp-teamviewer-amp-anydesk"><a href="#屏幕共享-vnc-amp-teamviewer-amp-anydesk" class="headerlink" title="屏幕共享 - vnc &amp; teamviewer &amp; anydesk"></a>屏幕共享 - vnc &amp; teamviewer &amp; anydesk</h2><p>windows上有一款叫spacedesk的软件, 电脑和手机上都安装它之后, 在同一个局域网可以很方便地从手机控制电脑棒.<br>Ubuntu上可以使用vnc, teamviewer, anydesk.</p>
<ul>
<li>ubuntu上安装VNC<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># https://medium.com/@aldo_mx/simplest-way-to-configure-vnc-server-in-xubuntu-16-04-lts-and-newer-6c0b3ae21fe5</span><br><span class="line">sudo apt-get install vino</span><br><span class="line">gsettings list-recursively org.gnome.Vino</span><br><span class="line"># some clients like TightVNC for Windows do not work with encryption anymore</span><br><span class="line"># because older protocols like SSLv3 and TLSv1 have been deprecated.</span><br><span class="line"># dconf-editor - ORG &gt; GNOME &gt; DESKTOP &gt; REMOTE ACCESS</span><br><span class="line">gsettings set org.gnome.Vino require-encryption false</span><br><span class="line"># activate at startup, or set &quot;Settings -&gt; Sharing -&gt; screen Sharing&quot; in ubuntu</span><br><span class="line">sudo cp /usr/share/applications/vino-server.desktop /etc/xdg/autostart/vino-server.desktop</span><br><span class="line"># #enable &quot;Application Autostart -&gt; Desktop Sharing(Gnome Desktop Sharing Server)&quot;</span><br><span class="line">xfce4-session-settings</span><br><span class="line">/usr/lib/vino/vino-server --sm-disable</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>需注意两点：一是要<strong>设置require-encryption=false</strong>, 二是手机上使用realvnc client时不应该登陆，因为没用realvnc server，而是用的vino server</p>
<ul>
<li>安装使用anydesk使用屏幕, 鼠标, 键盘.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.anydesk.com/linux/anydesk_4.0.1-1_amd64.deb</span><br><span class="line">sudo dpkg -i anydesk_4.0.1-1_amd64.deb</span><br><span class="line">sudo apt --fix-broken install</span><br><span class="line">sudo dpkg -i anydesk_4.0.1-1_amd64.deb</span><br><span class="line">sudo systemctl enable anydesk.service</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>最后, 设置anydesk, 设置允许随时连接查询, 并设置密码, 禁用掉声音传输.<br>但又遇到一个问题, 在笔记本上测试anydesk似乎没有问题. 但移到电脑棒上后, 电脑棒启动后经常无故死机. (<strong>无故死机的问题找到了, 一次是因为电源没插好接触不良, 另一次是应用了平时给手机充电的Type-A USB输出的充电器, 应该使用自带的APD亚源科技的Type-C输出口的充电器(输出则是5.2V 2.2A（Type-C对机身）、5V 0.9A（对两个Type-A）</strong>，这个问题真难查). 但仍然遇到一个问题 (手机上的anydesk发起连接时报: 连接已终止,. 状态: result_invalid_state，暂不清楚原因)</p>
<ul>
<li>切换为teamviewer, 也是遇到类似问题, 曾经成功过, 但之后手机上的teamviewer就一起报: teamviewer正在启动, 请稍候. （该问题原因已找到， 因为墙，用4G网络可以， 见： <a href="https://github.com/ywb94/openwrt-ssr/issues/31" target="_blank" rel="external">https://github.com/ywb94/openwrt-ssr/issues/31</a> 及 <a href="https://zvv.me/z/1366.html" target="_blank" rel="external">https://zvv.me/z/1366.html</a> ）</li>
</ul>
<p>还存在一个问题: **如果电脑棒不通过HDMI接口接一个显示器, 电脑棒重启之后通过远程桌面连接过去看到的是一屏黑色. 那是因为Linux服务器一般是不接显示器的，用ssh等文字界面连接管理即可, 可是有些软件需要GUI管理，若不接显示器，xwindows是默认无法启动的，从而导致vnc server连接失败, 可配置一块fake显示器解决:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># https://askubuntu.com/questions/453109/add-fake-display-when-no-monitor-is-plugged-in</span><br><span class="line">sudo apt-get install xserver-xorg-video-dummy</span><br><span class="line">sudo bash -c &apos;cat &gt; /usr/share/X11/xorg.conf.d/xorg.conf&apos; &lt;&lt;EOF</span><br><span class="line">Section &quot;Device&quot;</span><br><span class="line">    Identifier  &quot;Configured Video Device&quot;</span><br><span class="line">    Driver      &quot;dummy&quot;</span><br><span class="line">EndSection</span><br><span class="line"></span><br><span class="line">Section &quot;Monitor&quot;</span><br><span class="line">    Identifier  &quot;Configured Monitor&quot;</span><br><span class="line">    HorizSync 31.5-48.5</span><br><span class="line">    VertRefresh 50-70</span><br><span class="line">EndSection</span><br><span class="line"></span><br><span class="line">Section &quot;Screen&quot;</span><br><span class="line">    Identifier  &quot;Default Screen&quot;</span><br><span class="line">    Monitor     &quot;Configured Monitor&quot;</span><br><span class="line">    Device      &quot;Configured Video Device&quot;</span><br><span class="line">    DefaultDepth 24</span><br><span class="line">    SubSection &quot;Display&quot;</span><br><span class="line">    Depth 24</span><br><span class="line">    Modes &quot;1024x800&quot;</span><br><span class="line">    EndSubSection</span><br><span class="line">EndSection</span><br><span class="line">EOF</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure></p>
<p>但是使用上述的软件模拟的显示器, 会造成即使接了真显示器, 还是用得虚拟的, 所以不方便啊. 网上有硬件的Dummy HDMI可用.</p>
<h2 id="kdeconnect"><a href="#kdeconnect" class="headerlink" title="kdeconnect"></a>kdeconnect</h2><p>kdeconnect可以用来在ubuntu与androd之间双向传输数据, 例如电脑使用手机的键盘鼠标, 电脑与手机相互传输数据, 手机上的短信通知发给电脑显示.<br>直接在电脑与手机上安装kdeconnect即可使用.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install kdeconnect</span><br></pre></td></tr></table></figure></p>
<p>但kdeconnectd进程 (/etc/xdg/autostart/kdeconnectd.desktop)在ubuntu未登录之前是不会启动的, 所以禁用掉电脑棒的密码登录设置它为自动登录即可.</p>
<h2 id="gsconnect-gshell-extension"><a href="#gsconnect-gshell-extension" class="headerlink" title="gsconnect gshell extension"></a>gsconnect gshell extension</h2><p>gsconnect与kdeconnect是类似的东西, 它不依赖kde的一些包, 但它依赖Gnome desk与chrome, 电脑棒启动后没有自动启动chrome的话用不了. 所以实际我用的还是kdeconnect, 但这里记录使用gsconnect的过程.</p>
<ul>
<li>安装gnome-shell-extension与chrome-gnome-shell<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gnome-shell --version</span><br><span class="line">sudo apt install gnome-shell-extensions</span><br><span class="line">sudo apt install chrome-gnome-shell</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>离个题, 例如想显示各个不同时区的team member的上班时间的话, 可以添加~/people.json将每个人的时区按下列格式添加进去即可.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim ~/people.json</span><br><span class="line">[</span><br><span class="line">&#123;</span><br><span class="line">      &quot;name&quot;: &quot;your name&quot;,</span><br><span class="line">      &quot;github&quot;: &quot;your lauchpd id&quot;,</span><br><span class="line">      &quot;city&quot;: &quot;Beijing&quot;,</span><br><span class="line">      &quot;tz&quot;: &quot;Asia/Shanghai&quot;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<ul>
<li>访问这个网址<a href="https://extensions.gnome.org/extension/1319/gsconnect/" target="_blank" rel="external">https://extensions.gnome.org/extension/1319/gsconnect/</a> 方便地安装gsconnect即可 (注意: 如果出错, 多半是因为没有在chrome里访问 chrome://extensions/ 将GNOME Shell integration打开的原因).</li>
<li>手机上在play里搜索安装KDE Connect, 并打开它, 和gsconnect为pair配对.</li>
<li>还可以支持电脑上Nautilus来mount手机上的文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python-nautilus gir1.2-nautilus-3.0 sshfs</span><br><span class="line"># then send file to Android by first open the nautilus then right click one file &quot;Send to Mobile Device -&gt; Nokia&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/15/手机作为显示器及键鼠控制电脑棒/" data-id="ck6p6k5xw001710bpbq2rsznf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/04/24/如何让OpenStack支持多个FIP/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          如何让OpenStack支持多个FIP
        
      </div>
    </a>
  
  
    <a href="/2019/01/18/Set-ip-IPv6-env/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Set ip IPv6 env</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Arkiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Siste innlegg</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/02/16/利用squid的tcp-outgoing-address特性选择第二块网卡出流量-1/">利用squid的tcp_outgoing_address特性选择第二块网卡出流量</a>
          </li>
        
          <li>
            <a href="/2020/02/12/利用squid的tcp-outgoing-address特性选择第二块网卡出流量/">利用squid的tcp_outgoing_address特性选择第二块网卡出流量</a>
          </li>
        
          <li>
            <a href="/2020/01/13/Debian-Customer-PPA-RFC/">Debian Customer PPA RFC</a>
          </li>
        
          <li>
            <a href="/2019/12/24/How-to-make-pure-text-presentation-ppt/">How to make pure text presentation/ppt</a>
          </li>
        
          <li>
            <a href="/2019/11/09/How-to-test-Neutron-VRRP-HA-rapidly/">How to test Neutron VRRP HA rapidly</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 张华<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>